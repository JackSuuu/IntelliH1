<!-- 
Enhanced Scene for Unitree H1 Humanoid Robot
Includes realistic room environment with furniture and objects
-->
<mujoco model="unitree_h1_enhanced_scene">
  <compiler angle="radian" meshdir="assets"/>
  
  <include file="h1.xml"/>
  
  <statistic center="0 0 1" extent="10"/>
  
  <option timestep="0.003" gravity="0 0 -9.81">
    <flag contact="enable" override="enable"/>
  </option>
  
  <visual>
    <headlight ambient="0.6 0.6 0.6" diffuse="0.8 0.8 0.8" specular="0.3 0.3 0.3"/>
    <map force="0.1" zfar="50"/>
    <quality shadowsize="4096"/>
    <global offwidth="1920" offheight="1080"/>
  </visual>
  
  <asset>
    <!-- Ground texture -->
    <texture name="floor_texture" type="2d" builtin="checker" width="512" height="512" 
             rgb1="0.8 0.8 0.8" rgb2="0.7 0.7 0.7"/>
    <material name="floor_mat" texture="floor_texture" texrepeat="10 10" 
              reflectance="0.1" rgba="1 1 1 1"/>
    
    <!-- Wall materials -->
    <material name="wall_mat" rgba="0.95 0.95 0.9 1"/>
    <material name="wood_mat" rgba="0.6 0.4 0.2 1"/>
    <material name="metal_mat" rgba="0.7 0.7 0.75 1" shininess="0.8" specular="0.5"/>
    
    <!-- Object materials -->
    <material name="red_plastic" rgba="0.9 0.2 0.2 1"/>
    <material name="blue_plastic" rgba="0.2 0.3 0.9 1"/>
    <material name="green_plastic" rgba="0.3 0.8 0.3 1"/>
    <material name="yellow_plastic" rgba="0.95 0.8 0.1 1"/>
    <material name="orange_mat" rgba="0.95 0.5 0.1 1"/>
    <material name="apple_red" rgba="0.8 0.1 0.1 1"/>
    <material name="banana_yellow" rgba="0.95 0.85 0.2 1"/>
  </asset>
  
  <worldbody>
    <!-- Enhanced lighting -->
    <light name="ceiling_light" pos="0 0 4" dir="0 0 -1" diffuse="0.8 0.8 0.8" 
           specular="0.3 0.3 0.3" directional="false" castshadow="true"/>
    <light name="ambient" mode="fixed" pos="3 3 5" dir="-1 -1 -2" 
           diffuse="0.6 0.6 0.6" specular="0.2 0.2 0.2"/>
    
    <!-- Ground -->
    <geom name="floor" type="plane" size="15 15 0.1" material="floor_mat" 
          condim="3" friction="1.0 0.1 0.1"/>
    
    <!-- ===== KITCHEN AREA (x: 3-7, y: 1-5) ===== -->
    <!-- Kitchen walls -->
    <body name="kitchen" pos="5 3 0">
      <!-- Counter -->
      <geom name="kitchen_counter" type="box" size="1.5 0.6 0.45" 
            pos="0 0 0.45" material="wood_mat" mass="50"/>
      <geom name="counter_top" type="box" size="1.5 0.6 0.02" 
            pos="0 0 0.92" material="metal_mat" mass="10"/>
      
      <!-- Wall cabinet -->
      <geom name="wall_cabinet" type="box" size="1.2 0.3 0.4" 
            pos="0 0.5 1.8" material="wood_mat" mass="20"/>
      
      <!-- Kitchen location marker (invisible) -->
      <site name="kitchen_site" pos="0 0 0" size="0.1" rgba="0 1 0 0.3"/>
    </body>
    
    <!-- Kitchen objects -->
    <body name="coffee_mug" pos="5.5 3.2 1.0">
      <freejoint/>
      <geom name="mug_body" type="cylinder" size="0.04 0.06" 
            material="blue_plastic" mass="0.2"/>
      <geom name="mug_handle" type="box" size="0.015 0.03 0.04" 
            pos="0.045 0 0" material="blue_plastic" mass="0.05"/>
    </body>
    
    <body name="apple" pos="4.5 3.0 1.0">
      <freejoint/>
      <geom name="apple_geom" type="sphere" size="0.04" 
            material="apple_red" mass="0.15"/>
    </body>
    
    <body name="banana" pos="4.7 2.8 1.0">
      <freejoint/>
      <geom name="banana_geom" type="capsule" size="0.025 0.08" 
            material="banana_yellow" mass="0.12"/>
    </body>
    
    <!-- ===== BEDROOM AREA (x: -5 to -1, y: 4-8) ===== -->
    <body name="bedroom" pos="-3 6 0">
      <!-- Bed frame -->
      <geom name="bed_frame" type="box" size="1.0 0.9 0.2" 
            pos="0 0 0.2" material="wood_mat" mass="30"/>
      <geom name="mattress" type="box" size="0.95 0.85 0.15" 
            pos="0 0 0.55" rgba="0.9 0.9 0.95 1" mass="20"/>
      
      <!-- Nightstand -->
      <geom name="nightstand" type="box" size="0.25 0.35 0.3" 
            pos="1.3 0 0.3" material="wood_mat" mass="10"/>
      <geom name="nightstand_top" type="box" size="0.26 0.36 0.02" 
            pos="1.3 0 0.62" material="wood_mat" mass="2"/>
      
      <!-- Bedroom location marker -->
      <site name="bedroom_site" pos="0 0 0" size="0.1" rgba="1 0 0 0.3"/>
    </body>
    
    <!-- Bedroom objects -->
    <body name="book" pos="-1.7 6.0 0.65">
      <freejoint/>
      <geom name="book_geom" type="box" size="0.08 0.12 0.02" 
            material="red_plastic" mass="0.3"/>
    </body>
    
    <body name="phone" pos="-1.6 6.2 0.65">
      <freejoint/>
      <geom name="phone_geom" type="box" size="0.04 0.08 0.008" 
            rgba="0.1 0.1 0.1 1" mass="0.18"/>
    </body>
    
    <!-- ===== LIVING ROOM AREA (x: -2 to 2, y: -6 to -2) ===== -->
    <body name="living_room" pos="0 -4 0">
      <!-- Coffee table -->
      <geom name="coffee_table_legs" type="box" size="0.4 0.6 0.2" 
            pos="0 0 0.2" material="wood_mat" mass="8"/>
      <geom name="coffee_table_top" type="box" size="0.5 0.7 0.03" 
            pos="0 0 0.43" material="wood_mat" mass="5"/>
      
      <!-- Couch -->
      <geom name="couch_base" type="box" size="1.2 0.5 0.2" 
            pos="-0.5 -1.2 0.2" material="blue_plastic" mass="30"/>
      <geom name="couch_back" type="box" size="1.2 0.15 0.4" 
            pos="-0.5 -1.55 0.6" material="blue_plastic" mass="15"/>
      <geom name="couch_cushion1" type="box" size="0.35 0.4 0.1" 
            pos="-1.0 -1.2 0.5" rgba="0.3 0.4 0.95 1" mass="2"/>
      <geom name="couch_cushion2" type="box" size="0.35 0.4 0.1" 
            pos="-0.5 -1.2 0.5" rgba="0.3 0.4 0.95 1" mass="2"/>
      <geom name="couch_cushion3" type="box" size="0.35 0.4 0.1" 
            pos="0.0 -1.2 0.5" rgba="0.3 0.4 0.95 1" mass="2"/>
      
      <!-- TV stand -->
      <geom name="tv_stand" type="box" size="0.8 0.3 0.25" 
            pos="0 1.5 0.25" material="wood_mat" mass="15"/>
      <geom name="tv_screen" type="box" size="0.6 0.05 0.4" 
            pos="0 1.4 0.9" rgba="0.1 0.1 0.1 1" mass="5"/>
      
      <!-- Living room location marker -->
      <site name="living_room_site" pos="0 0 0" size="0.1" rgba="0 0 1 0.3"/>
    </body>
    
    <!-- Living room objects -->
    <body name="remote_control" pos="0 -3.6 0.47">
      <freejoint/>
      <geom name="remote_geom" type="box" size="0.025 0.08 0.012" 
            rgba="0.2 0.2 0.2 1" mass="0.1"/>
    </body>
    
    <body name="water_bottle" pos="0.3 -3.8 0.47">
      <freejoint/>
      <geom name="bottle_body" type="cylinder" size="0.035 0.1" 
            material="blue_plastic" mass="0.5"/>
      <geom name="bottle_cap" type="cylinder" size="0.025 0.015" 
            pos="0 0 0.115" rgba="0.1 0.1 0.1 1" mass="0.02"/>
    </body>
    
    <!-- ===== DECORATIVE ELEMENTS ===== -->
    <!-- Room dividers / walls -->
    <geom name="wall_divider1" type="box" size="0.1 3.0 1.2" 
          pos="2.5 -0.5 1.2" material="wall_mat"/>
    <geom name="wall_divider2" type="box" size="3.5 0.1 1.2" 
          pos="-1.5 1.5 1.2" material="wall_mat"/>
    
    <!-- Plants (decorative) -->
    <body name="plant1" pos="2 2 0">
      <geom name="pot1" type="cylinder" size="0.15 0.12" 
            material="orange_mat" mass="2"/>
      <geom name="plant_stem1" type="cylinder" size="0.02 0.3" 
            pos="0 0 0.42" rgba="0.2 0.6 0.2 1" mass="0.1"/>
      <geom name="plant_leaf1" type="sphere" size="0.15" 
            pos="0 0 0.75" rgba="0.3 0.7 0.3 1" mass="0.1"/>
    </body>
    
    <body name="plant2" pos="-2 -2 0">
      <geom name="pot2" type="cylinder" size="0.12 0.1" 
            material="orange_mat" mass="1.5"/>
      <geom name="plant_stem2" type="cylinder" size="0.015 0.25" 
            pos="0 0 0.35" rgba="0.2 0.6 0.2 1" mass="0.08"/>
      <geom name="plant_leaf2" type="sphere" size="0.12" 
            pos="0 0 0.62" rgba="0.3 0.7 0.3 1" mass="0.08"/>
    </body>
    
    <!-- ===== TASK OBJECTS (for pick and place) ===== -->
    <body name="red_cube" pos="1.5 0.5 0.5">
      <freejoint/>
      <geom name="red_cube_geom" type="box" size="0.05 0.05 0.05" 
            material="red_plastic" mass="0.25"/>
    </body>
    
    <body name="green_cylinder" pos="1.8 0.7 0.5">
      <freejoint/>
      <geom name="green_cylinder_geom" type="cylinder" size="0.04 0.08" 
            material="green_plastic" mass="0.3"/>
    </body>
    
    <body name="yellow_ball" pos="2.0 0.3 0.5">
      <freejoint/>
      <geom name="yellow_ball_geom" type="sphere" size="0.045" 
            material="yellow_plastic" mass="0.2"/>
    </body>
    
    <!-- ===== CAMERAS ===== -->
    <!-- Static scene cameras for debugging -->
    <camera name="front_view" pos="0 -8 2" xyaxes="1 0 0 0 0.3 1" mode="fixed"/>
    <camera name="side_view" pos="8 0 2" xyaxes="0 1 0 0 0 1" mode="fixed"/>
    <camera name="top_view" pos="0 0 10" xyaxes="1 0 0 0 1 0" mode="fixed"/>
    <camera name="follow_robot" pos="-2 -2 1.5" xyaxes="1 0 0 0 0.7 1" mode="targetbody" target="pelvis"/>
    
    <!-- Robot-mounted cameras for multimodal perception (Phase 2) -->
    <!-- Head camera - for scene understanding and navigation -->
    <camera name="robot_head" pos="0 0.05 0.3" xyaxes="1 0 0 0 0.7 0.7" mode="targetbodycom" target="torso_link" fovy="90"/>
    
    <!-- Wrist cameras - for manipulation and object detection -->
    <camera name="left_wrist_cam" pos="0 0 -0.05" xyaxes="1 0 0 0 0.7 0.7" mode="targetbodycom" target="left_elbow_link" fovy="75"/>
    <camera name="right_wrist_cam" pos="0 0 -0.05" xyaxes="1 0 0 0 0.7 0.7" mode="targetbodycom" target="right_elbow_link" fovy="75"/>
  </worldbody>
  
  <contact>
    <!-- Better contact parameters for manipulation -->
    <pair geom1="floor" geom2="apple_geom" condim="3" friction="0.8 0.1 0.001"/>
    <pair geom1="floor" geom2="banana_geom" condim="3" friction="0.8 0.1 0.001"/>
    <pair geom1="floor" geom2="red_cube_geom" condim="3" friction="0.8 0.1 0.001"/>
    <pair geom1="floor" geom2="green_cylinder_geom" condim="3" friction="0.8 0.1 0.001"/>
  </contact>
</mujoco>
